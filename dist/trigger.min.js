/*! trigger - v1.0.0 - 2013-05-15
* Copyright (c) 2013 Nathan Bubna; Licensed MIT, GPL */
(function(e,t,n){function r(){return i.manual.apply(this,arguments)}r.add=function(){return i.add.apply(this,arguments)};var i=r._={version:"1.0.0",prefix:"",splitRE:/ (?![^\[\]]*\])+/g,noClickRE:/^(select|textarea)$/,noEnterRE:/^(textarea|button)$/,buttonRE:/^(submit|button|reset)$/,boxRE:/^(checkbox|radio)$/,all:function(e,t,n){t=t.split(i.splitRE);for(var r,o,u=0;t.length>u&&(!r||r.resumeSequence===i.noop);u++)o=i.parse(t[u]),o&&(o.sequence=t,r&&(o.previousEvent=r),n&&(o.trigger=n),o.stopSequence=i.stopSequence(e,t,u),o.resumeSequence=i.noop,r=i.event(e,o));return r},stopSequence:function(e,t,n,r){return r=function(o){var u=this,s=u.originalEvent;return s&&s.stopSequence===r&&(u=s),u.resumeSequence=function(r){u.resumeSequence=i.noop,i.all(e,t.slice(n+1).join(" "),r||u.trigger)},o?o.then(u.resumeSequence):void 0}},noop:function(){},parse:function(e){if(e){var t,n,r,i={text:e};if((n=e.indexOf("#",e.indexOf("]")))>0){i.tags=e.substring(n+1).split("#"),e=e.substring(0,n);for(var o=0,u=i.tags.length;u>o;o++)i[i.tags[o]]=!0}return(r=e.indexOf("["))>0&&(i.constants=JSON.parse(e.substring(r).replace(/'/g,'"')),e=e.substring(0,r)),(t=e.indexOf(":"))>0&&(i.category=e.substring(0,t),e=e.substring(t+1)),i.type=e,i}},event:function(e,n){var r=t.createEvent("HTMLEvents");r.initEvent(n.type,!0,!0);for(var o in n)r[i.prop(o)]=n[o];return e.dispatchEvent(r),r},listen:function(e){var t,n=e.target,r=e.type,o=i.special[r+(e.which||e.keyCode||"")];(!o||(r=o(e,n,n.nodeName.toLowerCase())))&&(n=i.find(n,r),t=i.attr(n,r),t&&(i.all(n,t,e),"click"!==r||i.boxRE.test(n.type)||e.preventDefault()))},on:function(e,r){i.on[e]||(i.on[e]=1,n&&n.event?n(t).on(e,function(e){r(e.originalEvent||e)}):t.addEventListener(e,r))},attr:function(e,t){return e&&e.getAttribute&&e.getAttribute(i.prefix+t)},find:function(e,t){return!e||i.attr(e,t)?e:i.find(e.parentNode,t)},special:{click:function(e,t,n){return(i.attr(t,e.type)||!t.isContentEditable&&!i.noClickRE.test(n)&&("input"!==n||i.buttonRE.test(t.type)))&&"click"},keyup13:function(e,t,n){return i.attr(t,"key-enter")&&"key-enter"||i.attr(t,e.type)&&e.type||!t.isContentEditable&&!i.noEnterRE.test(n)&&!("a"===n&&t.getAttribute("href"))&&i.buttonRE.test(t.type)&&"click"}},manual:function(e,n){return"string"==typeof e&&(n=e,e=t),i.all(e,n||i.attr(e,"click")||"")},add:function(){for(var e=0,t=arguments.length;t>e;e++)i.on(arguments[e],i.listen)},prop:function(e){return n&&n.event&&!i.prop[e]&&(i.prop[e]=!0,n.event.props.push(e)),e}};"undefined"!=typeof module&&module.exports?module.exports=r:e.trigger=r,r.add("click","keyup")})(window,document,window.jQuery);