/*! trigger - v0.9.0 - 2013-05-03
* Copyright (c) 2013 Nathan Bubna; Licensed MIT, GPL */
(function(t,e){function n(n){return r.all(this===t?e:this,n)}var r={version:"0.9.0",all:function(t,e,n){e=e.split(" ");for(var i=0,a=e.length,o=n;a>i&&r.allowDefault(o);i++){var u=r.parse(e[i]);u&&(u.triggers=e,u.originalEvent=n,o=r.event(t,u))}return o},parse:function(t){if(t){var e={trigger:t},n=t.indexOf("."),r=t.indexOf("#"),i=t.indexOf("[");if(r>0){e.tags=t.substring(r+1).split("#"),t=t.substring(0,r);for(var a=0,o=e.tags.length;o>a;a++)e[e.tags[a]]=!0}return i>0&&(e.data=JSON.parse(t.substring(i).replace(/\'/g,'"')),t=t.substring(0,i)),n>0&&(e.namespace=t.substring(n+1),t=t.substring(0,n)),e.type=t,e}},event:function(t,n){var r=e.createEvent("HTMLEvents");r.initEvent(n.type,!0,!0);for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return t.dispatchEvent(r),r},allowDefault:function(t,e){return t?1===arguments.length?!t.defaultPrevented&&t.returnValue!==!1:(e||(t.preventDefault?t.preventDefault():t.returnValue=!1),e):!0},listen:function(t){var e=t.target;return r[t.type](t,e,e.nodeName.toLowerCase())&&(e=r.find(e))?(r.all(e,e.getAttribute(r.attr),null,t),r.allowDefault(t,r.boxRE.test(e.type))):void 0},find:function(t){return!t||t.getAttribute(r.attr)?t:r.find(t.parentNode)},click:function(t,e,n){return!e.isContentEditable&&!r.noClickRE.test(n)&&("input"!==n||r.buttonRE.test(e.type))},keyup:function(t,e,n){return!(13!==(t.keyCode||t.which)||e.isContentEditable||r.noEnterRE.test(n)||"a"===n&&e.getAttribute("href")||r.buttonRE.test(e.type))},attr:"trigger",noClickRE:/^(select|textarea)$/,noEnterRE:/^(textarea|button)$/,buttonRE:/^(submit|button|reset)$/,boxRE:/^(checkbox|radio)$/,on:function(n,r){e.addEventListener?e.addEventListener(n,r):e.attachEvent("on"+n,function(){r(t.event)})},init:function(){r.on("click",r.listen),r.on("keyup",r.listen)}};n._=r,"undefined"!=typeof module&&module.exports?module.exports=n:t.trigger=n,t.onload=function(){r.init()}})(window,document);