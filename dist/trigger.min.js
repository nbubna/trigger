/*! trigger - v1.0.0 - 2013-05-14
* Copyright (c) 2013 Nathan Bubna; Licensed MIT, GPL */
(function(t,e,n){function r(){return i.manual.apply(this,arguments)}r.add=function(){return i.add.apply(this,arguments)};var i=r._={version:"1.0.0",prefix:"",splitRE:/ (?![^\[\]]*\])+/g,noClickRE:/^(select|textarea)$/,noEnterRE:/^(textarea|button)$/,buttonRE:/^(submit|button|reset)$/,boxRE:/^(checkbox|radio)$/,all:function(t,e,n,r,o){e=e.split(i.splitRE);for(var u=0,a=e.length;a>u&&(o||!i.stopped(r||n));u++){var s=i.parse(e[u]);s&&(s.sequence=e,(r||o)&&(s.previousEvent=r||o),n&&(s.trigger=n),s.promise=i.promise(t,e,u),r=i.event(t,s))}return r},promise:function(t,e,n){return function(r){var o=this;o.preventDefault(),o.promise=r,r.then(function(){i.all(t,e.slice(n+1).join(" "),o.trigger,null,o)})}},parse:function(t){if(t){var e,n,r,i={text:t};if((n=t.indexOf("#",t.indexOf("]")))>0){i.tags=t.substring(n+1).split("#"),t=t.substring(0,n);for(var o=0,u=i.tags.length;u>o;o++)i[i.tags[o]]=!0}return(r=t.indexOf("["))>0&&(i.constants=JSON.parse(t.substring(r).replace(/'/g,'"')),t=t.substring(0,r)),(e=t.indexOf(":"))>0&&(i.category=t.substring(0,e),t=t.substring(e+1)),i.type=t,i}},event:function(t,n){var r=e.createEvent("HTMLEvents");r.initEvent(n.type,!0,!0),r.preventDefault||(r.preventDefault=i.stop);for(var o in n)r[i.prop(o)]=n[o];return t.dispatchEvent(r),r},stopped:function(t){return t=t||this,t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented||t.returnValue===!1},stop:function(t){t=t||this,t.preventDefault?t.preventDefault():t.returnValue=!1},listen:function(t){var e,n=t.target,r=t.type,o=i.special[r+(t.which||t.keyCode||"")];(!o||(r=o(t,n,n.nodeName.toLowerCase())))&&(n=i.find(n,r),e=i.attr(n,r),e&&(i.all(n,e,t),"click"!==r||i.boxRE.test(n.type)||i.stop(t)))},on:function(r,o){i.on[r]||(i.on[r]=1,n&&n.event?n(e).on(r,function(t){o(t.originalEvent||t)}):e.addEventListener?e.addEventListener(r,o):e.attachEvent("on"+r,function(){o(t.event)}))},attr:function(t,e){return t&&t.getAttribute&&t.getAttribute(i.prefix+e)},find:function(t,e){return!t||i.attr(t,e)?t:i.find(t.parentNode,e)},special:{click:function(t,e,n){return(i.attr(e,t.type)||!e.isContentEditable&&!i.noClickRE.test(n)&&("input"!==n||i.buttonRE.test(e.type)))&&"click"},keyup13:function(t,e,n){return i.attr(e,"key-enter")&&"key-enter"||i.attr(e,t.type)&&t.type||!e.isContentEditable&&!i.noEnterRE.test(n)&&!("a"===n&&e.getAttribute("href"))&&i.buttonRE.test(e.type)&&"click"}},manual:function(t,n){return"string"==typeof t&&(n=t,t=e),i.all(t,n||i.attr(t,"click")||"")},add:function(){for(var t=0,e=arguments.length;e>t;t++)i.on(arguments[t],i.listen)},prop:function(t){return n&&n.event&&!i.prop[t]&&(i.prop[t]=!0,n.event.props.push(t)),t}};"undefined"!=typeof module&&module.exports?module.exports=r:t.trigger=r,r.add("click","keyup")})(window,document,window.jQuery);