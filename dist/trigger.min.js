/*! trigger - v1.0.0 - 2013-05-16
* Copyright (c) 2013 Nathan Bubna; Licensed MIT, GPL */
(function(t,e,n){function r(){return i.manual.apply(this,arguments)}r.add=function(){return i.add.apply(this,arguments)};var i=r._={version:"1.0.0",prefix:"",splitRE:/ (?![^\[\]]*\])+/g,noClickRE:/^(select|textarea)$/,noEnterRE:/^(textarea|button)$/,buttonRE:/^(submit|button|reset)$/,boxRE:/^(checkbox|radio)$/,all:function(t,e,n){e=e.split(i.splitRE);for(var r,o,u=0;e.length>u&&(!r||!r.isSequenceStopped());u++)o=i.parse(e[u]),o&&(o.sequence=e,r&&(o.previousEvent=r),n&&(o.trigger=n),i.addStop(o,t,e,u),r=i.event(t,o));return r},addStop:function(t,e,n,r,o){t.resumeSequence=function(u){o&&(o=!1,i.all(e,n.slice(r+1).join(" "),u||t.trigger))},t.stopSequence=function(t){return o!==!1&&(o=!0,t)?t.then(this.resumeSequence):void 0},t.isSequenceStopped=function(){return!!o}},parse:function(t){if(t){var e,n,r,i={text:t};if((n=t.indexOf("#",t.indexOf("]")))>0){i.tags=t.substring(n+1).split("#"),t=t.substring(0,n);for(var o=0,u=i.tags.length;u>o;o++)i[i.tags[o]]=!0}return(r=t.indexOf("["))>0&&(i.constants=JSON.parse(t.substring(r).replace(/'/g,'"')),t=t.substring(0,r)),(e=t.indexOf(":"))>0&&(i.category=t.substring(0,e),t=t.substring(e+1)),i.type=t,i}},event:function(t,n){var r=e.createEvent("HTMLEvents");r.initEvent(n.type,!0,!0);for(var o in n)r[i.prop(o)]=n[o];return t.dispatchEvent(r),r},listen:function(t){var e,n=t.target,r=t.type,o=i.special[r+(t.which||t.keyCode||"")];n&&o&&!(r=o(t,n,n.nodeName.toLowerCase()))||(n=i.find(n,r),e=i.attr(n,r),e&&(i.all(n,e,t),"click"!==r||i.boxRE.test(n.type)||t.preventDefault()))},on:function(t,r){i.on[t]||(i.on[t]=1,n&&n.event?n(e).on(t,function(t){r(t.originalEvent||t)}):e.addEventListener(t,r))},attr:function(t,e){return t&&t.getAttribute&&t.getAttribute(i.prefix+e)},find:function(t,e){return!t||i.attr(t,e)?t:i.find(t.parentNode,e)},special:{click:function(t,e,n){return(i.attr(e,t.type)||!e.isContentEditable&&!i.noClickRE.test(n)&&("input"!==n||i.buttonRE.test(e.type)))&&"click"},keyup13:function(t,e,n){return i.attr(e,"key-enter")&&"key-enter"||i.attr(e,t.type)&&t.type||!e.isContentEditable&&!i.noEnterRE.test(n)&&!("a"===n&&e.getAttribute("href"))&&i.buttonRE.test(e.type)&&"click"}},manual:function(t,n){return"string"==typeof t&&(n=t,t=e),i.all(t,n||i.attr(t,"click")||"")},add:function(){for(var t=0,e=arguments.length;e>t;t++)i.on(arguments[t],i.listen)},prop:function(t){return n&&n.event&&!i.prop[t]&&(i.prop[t]=!0,n.event.props.push(t)),t}};"undefined"!=typeof module&&module.exports?module.exports=r:t.trigger=r,r.add("click","keyup")})(window,document,window.jQuery);